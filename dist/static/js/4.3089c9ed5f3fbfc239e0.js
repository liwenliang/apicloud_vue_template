webpackJsonp([4],{"6kej":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});for(var s=e("mvHQ"),n=e.n(s),r=e("Y4FN"),o=e.n(r),a={},d=1;d<=99;d++)a[d]={type:"empty",before:"empty"};var c={name:"GetVue",data:function(){return{beforeGridObj:o.a.get("gridObj")||JSON.parse(n()(a)),gridObj:o.a.get("gridObj")||JSON.parse(n()(a)),startMouseOver:!1,downIndex:-1,overIndex:-1,upIndex:-1,openSimple:!1,bigDiff:0,mediumDiff:0,smallDiff:0}},created:function(){},methods:{formatNum:function(t){return t<10?"0"+t:t},gridClicked:function(t){this.gridObj[t].type="opening"},gridMouseDown:function(t){this.startMouseOver=!0,this.downIndex=t},gridMouseUp:function(t){var i=t.changedTouches[0],e=document.elementFromPoint(i.clientX,i.clientY);this.startMouseOver=!1,this.upIndex=e.dataset.idx,this.opening=[];for(var s=Math.min(this.downIndex,this.upIndex);s<=Math.max(this.downIndex,this.upIndex);s++)this.gridObj[s].type="opening"},gridMouseOver:function(t){if(this.startMouseOver){var i=t.changedTouches[0],e=document.elementFromPoint(i.clientX,i.clientY);this.overIndex=e.dataset.idx,this.resetGrid();for(var s=Math.min(this.downIndex,this.overIndex);s<=Math.max(this.downIndex,this.overIndex);s++)this.gridObj[s].type="opening"}},setActive:function(t){for(var i in this.gridObj)this.gridObj.hasOwnProperty(i)&&"opening"===this.gridObj[i].type&&(this.gridObj[i].before=t,this.gridObj[i].type=t)},resetGrid:function(){for(var t in this.gridObj)this.gridObj.hasOwnProperty(t)&&(this.gridObj[t].type=this.gridObj[t].before)},getNum:function(t){var i=0;for(var e in this.gridObj)this.gridObj.hasOwnProperty(e)&&this.gridObj[e].type===t&&(i+=1);return i},confirmInfo:function(){this.resetGrid(),this.openSimple=!0,this.getGridDiffent()},getGridDiffent:function(){var t={big:0,medium:0,small:0,empty:0};for(var i in this.beforeGridObj)this.beforeGridObj.hasOwnProperty(i)&&t[this.beforeGridObj[i].type]++;var e={big:0,medium:0,small:0,empty:0};for(var s in this.gridObj)this.gridObj.hasOwnProperty(s)&&e[this.gridObj[s].type]++;this.bigDiff=e.big-t.big,this.mediumDiff=e.medium-t.medium,this.smallDiff=e.small-t.small},completeOption:function(){this.$store.commit("app/setBeforeGridObj",this.beforeGridObj),this.$store.commit("app/setGridObj",this.gridObj),o.a.set("gridObj",this.gridObj),this.goHome()},cancelInfo:function(){this.openSimple=!1},goHome:function(){this.$router.replace({name:"Home"})}}},u={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"operate-container"},[t._m(0),t._v(" "),e("div",{staticClass:"desc-area"},[e("div",{staticClass:"gezi-area"},[e("mu-row",t._l(t.gridObj,function(i,s){return e("div",{key:s},[e("div",{staticClass:"grid-cell",class:i.type,attrs:{"data-idx":s},on:{click:function(i){return t.gridClicked(s)},touchstart:function(i){return i.stopPropagation(),t.gridMouseDown(s)},touchmove:function(i){return i.stopPropagation(),t.gridMouseOver(i)},touchend:function(i){return i.stopPropagation(),t.gridMouseUp(i)}}},[t._v("\n            "+t._s(t.formatNum(s))+"\n          ")])])}),0)],1),t._v(" "),e("div",{staticClass:"info-area"},[e("div",{staticClass:"btn-area"},[e("p",[e("mu-button",{staticClass:"btn big",on:{click:function(i){return t.setActive("big")}}},[t._v("大码")]),t._v("当前 "+t._s(t.getNum("big"))+" 个")],1),t._v(" "),e("p",[e("mu-button",{staticClass:"btn medium",on:{click:function(i){return t.setActive("medium")}}},[t._v("中码")]),t._v("当前 "+t._s(t.getNum("medium"))+" 个")],1),t._v(" "),e("p",[e("mu-button",{staticClass:"btn small",on:{click:function(i){return t.setActive("small")}}},[t._v("小码")]),t._v("当前 "+t._s(t.getNum("small"))+" 个")],1),t._v(" "),e("p",[e("mu-button",{staticClass:"btn empty",on:{click:function(i){return t.setActive("empty")}}},[t._v("空格子")]),t._v("当前 "+t._s(t.getNum("empty"))+" 个")],1)]),t._v(" "),e("div",{staticClass:"clear-area"},[e("mu-button",{staticClass:"button red",on:{click:t.resetGrid}},[t._v("清空选择")])],1)])]),t._v(" "),e("div",{staticClass:"opt-area"},[e("mu-button",{staticClass:"opt-button redbg",on:{click:t.goHome}},[t._v("首页")]),t._v(" "),e("mu-button",{staticClass:"opt-button greenbg",on:{click:t.confirmInfo}},[t._v("确认")])],1),t._v(" "),e("mu-dialog",{attrs:{open:t.openSimple,title:"补衣确认","dialog-class":"custom-dialog"},on:{"update:open":function(i){t.openSimple=i}}},[e("div",{staticClass:"dialog-text"},[e("p",[t._v("大码："+t._s(t.bigDiff>=0?"放入":"取出")),e("span",{staticClass:"red"},[t._v(" "+t._s(Math.abs(t.bigDiff))+" ")]),t._v("件")]),t._v(" "),e("p",[t._v("中码："+t._s(t.mediumDiff>=0?"放入":"取出")),e("span",{staticClass:"red"},[t._v(" "+t._s(Math.abs(t.mediumDiff))+" ")]),t._v("件")]),t._v(" "),e("p",[t._v("小码："+t._s(t.smallDiff>=0?"放入":"取出")),e("span",{staticClass:"red"},[t._v(" "+t._s(Math.abs(t.smallDiff))+" ")]),t._v("件")])]),t._v(" "),e("div",{staticClass:"optarea"},[e("mu-button",{staticClass:"opt-button redbg",on:{click:t.cancelInfo}},[t._v("取消")]),t._v(" "),e("mu-button",{staticClass:"opt-button greenbg",on:{click:t.completeOption}},[t._v("确定补衣")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"title"},[i("i",{staticClass:"icon-gezi"}),this._v(" "),i("span",{staticClass:"text"},[this._v("请为已补充的衣物分配格子")])])}]};var l=e("VU/8")(c,u,!1,function(t){e("xuFA")},"data-v-33710985",null);i.default=l.exports},xuFA:function(t,i){}});
//# sourceMappingURL=4.3089c9ed5f3fbfc239e0.js.map