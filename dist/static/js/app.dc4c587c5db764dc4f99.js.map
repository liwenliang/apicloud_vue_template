{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/App.vue?edc5","webpack:///./src/App.vue","webpack:///./src/utils/util.js","webpack:///./src/store/modules/app.js","webpack:///./src/utils/auth.js","webpack:///./src/store/modules/user.js","webpack:///./src/api/login.js","webpack:///./src/store/getters.js","webpack:///./src/store/index.js","webpack:///./src/utils/request.js","webpack:///src/components/widgets/update.vue","webpack:///./src/api/common.js","webpack:///./src/components/widgets/update.vue?d290","webpack:///./src/components/widgets/update.vue","webpack:///src/views/layout/Layout.vue","webpack:///./src/views/layout/Layout.vue?8cdb","webpack:///./src/views/layout/Layout.vue","webpack:///./src/router/index.js","webpack:///./src/permission.js","webpack:///./src/main.js","webpack:///./src/mock/login.js","webpack:///./src/mock/index.js"],"names":["App","name","mounted","doc","win","html","reEvt","reFontSize","document","window","getElementsByTagName","clientW","documentElement","clientWidth","body","style","fontSize","addEventListener","render","_h","this","$createElement","_c","_self","attrs","id","_withStripped","esExports","staticRenderFns","selectortype_template_index_0_src_App","Component","__webpack_require__","normalizeComponent","options","__file","src_App","util","UPDATE_URL","APP_VERSION","CUR_APPID","VERSION_TYPE","APP_NAME","app","namespaced","state","mutations","actions","TokenKey","getToken","store","get","user","token","userInfo","roles","SET_TOKEN","SET_USERINFO","SET_ROLES","Login","_ref","commit","promise_default","a","resolve","reject","mobile","password","request","url","method","data","login","then","res","set","catch","error","GetInfo","_ref2","params","FedLogOut","_ref3","remove","getters","Vue","use","Vuex","Store","modules","APP","service","axios","create","baseURL","process","timeout","interceptors","config","console","log","response","update","downloadMessage","openSimple","startCheck","methods","_this","setTimeout","api","checkUpdate","toast","_this2","app_version","common_checkUpdate","systemType","join","ret","code","needUpdate","lastVersion","update_type","confirm","title","msg","describe","buttons","err","buttonIndex","startdown","download_url","alert","duration","location","closeCurApp","closeWidget","silent","retData","animation","type","subType","_this3","installApp","appUri","download","savePath","report","cache","allowResume","fsize","fileSize","parseFloat","toFixed","percent","update_render","_vm","open","overlay-close","on","update:open","$event","_v","_s","update_esExports","widgets_update","update_Component","update_normalizeComponent","Layout","components","UpdateWidgets","computed","key","undefined","$route","Date","Layout_render","mode","Layout_esExports","layout_Layout","Layout_Component","Layout_normalizeComponent","views_layout_Layout","Router","router","routes","path","component","e","bind","redirect","children","whiteList","beforeEach","to","from","next","dispatch","replace","indexOf","require","MuseUI","Helpers","Message","Toast","Loading","el","template","userRes","Mock","XHR","prototype","proxy_send","send","custom","xhr","withCredentials","apply","arguments","mock","loginAPI"],"mappings":"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","file":"static/js/app.dc4c587c5db764dc4f99.js","sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n  mounted() {\n    (function(doc, win) {\n      const html = doc.getElementsByTagName('html')[0]\n      // orientationchange->手机屏幕转屏事件\n      // resize->页面大小改变事件(一边pc端有用)\n      var reEvt = 'orientationchange' in win ? 'orientationchange' : 'resize'\n      const reFontSize = function() {\n        var clientW = doc.documentElement.clientWidth || doc.body.clientWidth\n        if (!clientW) {\n          return\n        }\n        html.style.fontSize = 100 * (clientW / 750) + 'px'\n      }\n      win.addEventListener(reEvt, reFontSize)\n      // DOMContentLoaded->dom加载完就执行,onload要dom/css/js都加载完才执行\n      doc.addEventListener('DOMContentLoaded', reFontSize)\n    })(document, window)\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { attrs: { id: \"app\" } }, [_c(\"router-view\")], 1)\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-7ba5bd90\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7ba5bd90\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7ba5bd90\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/App.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7ba5bd90\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7ba5bd90\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export default {\n  UPDATE_URL: 'http://test.proxy.yixi.yaonuokeji.com',\n  APP_VERSION: '1.0.3',\n  CUR_APPID: 'appid', // todo 换成对应的apicloud的appid\n  VERSION_TYPE: 'release', // release test demo\n  APP_NAME: 'template' // todo 为app起一个名字\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/util.js","const app = {\n  namespaced: true,\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  }\n}\n\nexport default app\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/app.js","import store from 'store'\n\nconst TokenKey = 'template-token' // 不同app最好弄成不一样的key\n\nexport function getToken() {\n  return store.get(TokenKey)\n}\n\nexport function setToken(token) {\n  return store.set(TokenKey, token)\n}\n\nexport function removeToken() {\n  return store.remove(TokenKey)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/auth.js","import { getToken, setToken, removeToken } from '@/utils/auth'\nimport { login, getInfo } from '@/api/login'\n\nconst user = {\n  namespaced: true,\n\n  state: {\n    token: getToken(),\n    userInfo: {},\n    roles: ''\n  },\n\n  mutations: {\n    SET_TOKEN: (state, token) => {\n      state.token = token\n    },\n    SET_USERINFO: (state, userInfo) => {\n      state.userInfo = userInfo\n    },\n    SET_ROLES: (state, roles) => {\n      state.roles = roles\n    }\n  },\n\n  actions: {\n    // 登录\n    Login({ commit }, userInfo) {\n      return new Promise((resolve, reject) => {\n        const mobile = userInfo.mobile\n        login(mobile, userInfo.password).then(res => {\n          const data = res.data\n          setToken(data.token)\n          commit('SET_TOKEN', data.token)\n          resolve(res)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 获取用户信息\n    GetInfo({ commit }) {\n      return new Promise((resolve, reject) => {\n        getInfo().then(res => {\n          commit('SET_USERINFO', res.data)\n          commit('SET_ROLES', res.data.roles)\n          resolve(res)\n        }).catch(error => {\n          reject(error)\n        })\n      })\n    },\n\n    // 前端 登出\n    FedLogOut({ commit }) {\n      return new Promise(resolve => {\n        commit('SET_TOKEN', '')\n        removeToken()\n        resolve()\n      })\n    }\n  }\n}\n\nexport default user\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import request from '@/utils/request'\n\nexport function login(mobile, password) {\n  return request({\n    url: '/user/login',\n    method: 'post',\n    data: {\n      mobile,\n      password\n    }\n  })\n}\n\nexport function getInfo() {\n  return request({\n    url: '/user/info',\n    method: 'get',\n    params: {}\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/login.js","const getters = {\n  token: state => state.user.token,\n  userInfo: state => state.user.userInfo,\n  roles: state => state.user.roles\n}\nexport default getters\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport app from './modules/app'\nimport user from './modules/user'\nimport getters from './getters'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n  modules: {\n    app,\n    user\n  },\n  getters\n})\n\nexport default store\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import axios from 'axios'\nimport store from '../store'\nimport { getToken } from '@/utils/auth'\n\nconst APP = 'FINGER_APP' // HOSPITAL_SCANNER 布草间扫描柜\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.BASE_API, // api 的 base_url\n  timeout: 5000 // 请求超时时间\n})\n\n// request拦截器\nservice.interceptors.request.use(\n  config => {\n    if (store.getters.token) {\n      if (config.method === 'post') {\n        if (!config.data) {\n          config.data = {}\n        }\n        config.data.token = getToken()\n      } else {\n        config.params = config.params || {}\n        config.params.token = getToken()\n      }\n    }\n    if (config.method === 'post') {\n      config.data.app = APP\n    } else {\n      config.params.app = APP\n    }\n    return config\n  },\n  error => {\n    console.log(error) // for debug\n    Promise.reject(error)\n  }\n)\n\n// response 拦截器\nservice.interceptors.response.use(\n  response => {\n    return response.data\n  },\n  error => {\n    console.log('err' + error) // for debug\n    return Promise.reject(error)\n  }\n)\n\nexport default service\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js","<template>\n  <mu-dialog :open.sync=\"openSimple\" :overlay-close=\"false\" title=\"升级提示\">\n    {{ downloadMessage }}\n  </mu-dialog>\n</template>\n\n<script>\nimport util from '@/utils/util'\nimport { checkUpdate } from '@/api/common'\nexport default {\n  name: 'UpdateWidgets',\n  data() {\n    return {\n      downloadMessage: '',\n      openSimple: false\n    }\n  },\n  mounted() {\n    this.startCheck()\n  },\n  methods: {\n    startCheck() {\n      setTimeout(() => {\n        if (window.api) {\n          this.checkUpdate()\n        } else {\n          this.startCheck()\n        }\n      }, 500)\n    },\n\n    // 检测版本升级\n    checkUpdate(toast) {\n      var app_version = [util.APP_NAME, window.api.systemType, util.VERSION_TYPE, util.APP_VERSION]\n      checkUpdate({ app_version: app_version.join('-') }).then(ret => {\n        if (ret && ret.code === 0 && ret.data && ret.data.needUpdate && ret.data.lastVersion) {\n          var lastVersion = ret.data.lastVersion\n          switch (lastVersion.update_type) {\n            // 0：不提示，1：提示升级，2：强制升级\n            case '1':\n              window.api.confirm({\n                title: '应用升级',\n                msg: lastVersion.describe || '',\n                buttons: ['现在升级', '遗憾错过']\n              }, (ret, err) => {\n                if (ret.buttonIndex === 1) {\n                  this.startdown(lastVersion.download_url, 'option', lastVersion.app_version)\n                }\n              })\n              break\n            case '2':\n              window.api.alert({\n                title: '应用升级',\n                msg: lastVersion.describe || '',\n                buttons: ['确定']\n              }, (ret, err) => {\n                if (ret.buttonIndex === 1) {\n                  this.startdown(lastVersion.download_url, 'force', lastVersion.app_version)\n                }\n              })\n              break\n          }\n        } else {\n          this.openSimple = false\n          if (toast) {\n            window.api.toast({ msg: '当前已是最新版本！', duration: 3000, location: 'middle' })\n          }\n        }\n      })\n    },\n\n    // 关闭当前APP\n    closeCurApp() {\n      window.api.closeWidget({\n        id: util.CUR_APPID,\n        silent: true,\n        retData: { name: 'closeWidget' },\n        animation: {\n          type: 'flip',\n          subType: 'from_bottom',\n          duration: 500\n        }\n      })\n    },\n\n    // 下载APP\n    startdown(url, type, app_version) {\n      switch (window.api.systemType) {\n        case 'ios':\n          window.api.installApp({\n            appUri: url // 安装包对应plist地址\n          })\n          this.closeCurApp()\n          break\n        case 'android':\n          window.api.download({\n            url: url,\n            savePath: 'fs://' + util.APP_NAME + '/update/' + app_version + '.apk',\n            report: true,\n            cache: false,\n            allowResume: true\n          }, (ret, err) => {\n            if (ret) {\n              switch (ret.state) {\n                case 2: // 下载失败\n                  window.api.alert({\n                    title: '更新失败',\n                    msg: '下载更新失败,请退出重试',\n                    buttons: ['确定']\n                  }, (ret, err) => {\n                    if (ret.buttonIndex === 1) {\n                      this.closeCurApp()\n                    }\n                  })\n                  break\n                case 1: // 下载完成\n                  window.api.installApp({\n                    appUri: ret.savePath\n                  })\n                  this.openSimple = false\n                  this.closeCurApp()\n                  break\n                case 0: // 下载中\n                  var fsize = (ret.fileSize / 1024) / 1024\n                  fsize = parseFloat(fsize).toFixed(1)\n                  this.downloadMessage = `文件大小：${fsize}M;下载进度：${ret.percent}%;`\n                  this.openSimple = true\n                  break\n              }\n            }\n          })\n          break\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/widgets/update.vue","import request from '@/utils/request'\nimport util from '@/utils/util'\n\n/* 检查更新 */\nexport function checkUpdate({ app_version }) {\n  return request({\n    url: util.UPDATE_URL + '/version/checkUpdate.json',\n    method: 'get',\n    params: {\n      app_version\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/common.js","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"mu-dialog\",\n    {\n      attrs: {\n        open: _vm.openSimple,\n        \"overlay-close\": false,\n        title: \"升级提示\"\n      },\n      on: {\n        \"update:open\": function($event) {\n          _vm.openSimple = $event\n        }\n      }\n    },\n    [_vm._v(\"\\n  \" + _vm._s(_vm.downloadMessage) + \"\\n\")]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-c002a48e\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c002a48e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/widgets/update.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c002a48e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/components/widgets/update.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-c002a48e\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-c002a48e\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/widgets/update.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <UpdateWidgets/>\n    <transition name=\"fade\" mode=\"out-in\">\n      <router-view :key=\"key\"/>\n    </transition>\n  </div>\n</template>\n\n<script>\n\nimport UpdateWidgets from '@/components/widgets/update'\nexport default {\n  name: 'Layout',\n  components: {\n    UpdateWidgets\n  },\n  computed: {\n    key() {\n      return this.$route.name !== undefined ? this.$route.name + +new Date() : this.$route + +new Date()\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/layout/Layout.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"UpdateWidgets\"),\n      _vm._v(\" \"),\n      _c(\n        \"transition\",\n        { attrs: { name: \"fade\", mode: \"out-in\" } },\n        [_c(\"router-view\", { key: _vm.key })],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-60f35ab6\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60f35ab6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/layout/Layout.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Layout.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Layout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60f35ab6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/views/layout/Layout.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-60f35ab6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-60f35ab6\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/layout/Layout.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Layout from '@/views/layout/Layout'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    { path: '/login', component: () => import('@/views/login/index') },\n    {\n      path: '/',\n      name: 'Index',\n      redirect: '/home',\n      component: Layout,\n      children: [\n        {\n          path: 'home',\n          name: 'Home',\n          component: () => import('@/views/home/index')\n        }\n      ]\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import router from './router'\nimport store from './store'\nimport { getToken } from '@/utils/auth' // 验权\n\nconst whiteList = ['/login'] // 不重定向白名单\nrouter.beforeEach((to, from, next) => {\n  if (getToken()) {\n    if (to.path === '/login') {\n      next({ path: '/' })\n    } else {\n      if (store.getters.roles === '') {\n        store.dispatch('user/GetInfo').then(res => {\n          if (res.code === 0) {\n            next({ to, replace: true })\n          }\n        }).catch((err) => {\n          console.log(err)\n          store.dispatch('user/FedLogOut').then(() => {\n            next({ path: '/' })\n          })\n        })\n      } else {\n        next()\n      }\n    }\n  } else {\n    if (whiteList.indexOf(to.path) !== -1) {\n      next()\n    } else {\n      next(`/login?redirect=${to.path}`) // 否则全部重定向到登录页\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\n\nimport App from './App'\nimport router from './router'\nimport store from './store'\n\nimport MuseUI from 'muse-ui'\nimport 'muse-ui/dist/muse-ui.css'\nimport Helpers from 'muse-ui/lib/Helpers'\nimport Message from 'muse-ui-message'\nimport Toast from 'muse-ui-toast'\nimport Loading from 'muse-ui-loading'\n\nimport '@/permission' // permission control\n\nrequire('./mock')\n\nVue.use(MuseUI)\nVue.use(Helpers)\nVue.use(Message)\nVue.use(Toast)\nVue.use(Loading)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","const userRes = {\n  code: 0,\n  data: {\n    userInfo: {\n      name: 'admin'\n    },\n    token: 'tokenxxxxxxx',\n    roles: ['admin']\n  }\n}\n\nexport default {\n  login: config => {\n    return userRes\n  },\n  getInfo: config => {\n    return userRes\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mock/login.js","import Mock from 'mockjs'\nimport loginAPI from './login'\n\n// 修复在使用 MockJS 情况下，设置 withCredentials = true，且未被拦截的跨域请求丢失 Cookies 的问题\n// https://github.com/nuysoft/Mock/issues/300\nMock.XHR.prototype.proxy_send = Mock.XHR.prototype.send\nMock.XHR.prototype.send = function() {\n  if (this.custom.xhr) {\n    this.custom.xhr.withCredentials = this.withCredentials || false\n  }\n  this.proxy_send(...arguments)\n}\n\n// 登录相关\nMock.mock(/\\/user\\/login/, 'post', loginAPI.login())\nMock.mock(/\\/user\\/info\\.*/, 'get', loginAPI.getInfo)\n\nexport default Mock\n\n\n\n// WEBPACK FOOTER //\n// ./src/mock/index.js"],"sourceRoot":""}